{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// написання функції для HTTP-запитів\n\nimport axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com';\n// axios.defaults.baseURL = 'https://jsonplaceholder.typicode.com';\n\nexport default function nttpRequest(userRequest) {\n    // const options = {\n    //     params: {\n            const paramsForHttp = new URLSearchParams ({\n            q: userRequest,\n            key: `49399736-5639b789053676a95c3f2e38d`,\n            image_type: `photo`,\n            orientation: `horizontal`,\n            safesearch: true,\n\n        })\n    \n     return axios.get(`https://pixabay.com/api/?${paramsForHttp}`);\n    }\n    // return fetch (`https://pixabay.com/api/?${paramsForHttp}`)\n\n    // //обробляємо відповідь що прийшла \n    // .then (queryResult=>{\n    // //робимо перевірку, якщо інфа прийшла з помилкою, то перекидаємо у catch\n    // if (!queryResult.ok)\n    //   {throw new Error(queryResult.status);}\n        \n    // //а якщо все ок, тоді РОЗПАРШУЄМО данні для наступного then\n    // return queryResult.json();\n    // })\n    \n   \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// export function nttpRequest (userRequest) {\n//     const params = new URLSearchParams ({\n//         q: searchUser,\n//         key: `49399736-5639b789053676a95c3f2e38d`,\n//         image_type: `photo`, \n//         orientation: `horizontal`,\n//         safesearch : true,\n//     }) \n\n//     return fetch (`https://pixabay.com/api/?${paramsForHttp}`)\n\n//     //обробляємо відповідь що прийшла \n//     .then (queryResult=>{\n//     //робимо перевірку, якщо інфа прийшла з помилкою, то перекидаємо у catch\n//     if (!queryResult.ok)\n//       {throw new Error(queryResult.status);}\n        \n//     //а якщо все ок, тоді РОЗПАРШУЄМО данні для наступного then\n//     return queryResult.json();\n//     })\n\n\n// }","// функції для відображення елементів інтерфейсу\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default function createHTML(data) {\n  const refs = {\n    list: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n  };\n\n  function createCart(item) {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = item;\n  \n    return ` \n        <li class=\"li-gallery\">\n\n        <a class=\"li-gallery-a\" href=\"${largeImageURL}\">\n        <img class=\"img\" src=\"${webformatURL}\" \n        alt=\"${tags}\" \n        />\n        </a>\n        <ul class=\"baner-info\">\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Likes</p>\n            <p class=\"baner-info-li-text\">${likes}</p>\n          </li>\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Views</p>\n            <p class=\"baner-info-li-text\">${views}</p>\n          </li>\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Comments</p>\n            <p class=\"baner-info-li-text\">${comments}</p>\n          </li>\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Downloads</p>\n            <p class=\"baner-info-li-text\">${downloads}</p>\n          \n            </li>\n        </ul>\n        </li> `;\n\n  }\n\n  function createsCart(items) {\n      return items.map(createCart).join('');\n    }\n\n    const markup = createsCart(data);\n    refs.list.insertAdjacentHTML('afterbegin', markup);\n\n    let lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      animationSpeed: 250,\n    });\n  \n    lightbox.refresh();\n    refs.loader.classList.add('hidden');\n\n}","    import iziToast from \"izitoast\";\n    import \"izitoast/dist/css/iziToast.min.css\";\n    \n\n    //імпортуємо свої функції для НТТР та відмальовування на сторінці лішок\n    import nttpRequest from \"./js/pixabay-api\";\n    import createHTML from \"./js/render-functions\";\n\n    // шукаємо форму і вішаємо на її сабміт слухача \n    const refs = {\n      form: document.querySelector (`.form`),\n      input: document.querySelector ('.input'),\n      gallery: document.querySelector (`.gallery`),\n      button: document.querySelector ('.button'),\n      loader: document.querySelector ('.loader'),\n    };\n        \n    refs.form.addEventListener (`submit`, request);\n\n    function request(event) {          \n     \n    // подія сабміт робить оновлення сторінки, ми це скидаємо \n     event.preventDefault();\n    \n    // ідемо через event.currentTarget.elements.(ім,я з name HTML) + .trim(), щоб не було пробілів\n\n      const userRequest = refs.input.value.trim(); \n\n    //перевіряємо, щоб не вводили пусте в інпут\n        if (userRequest === '') {\n          iziToast.warning({\n          position: 'topRight',\n          title: 'WARN',\n          message: 'You have not specified any search parameters.',\n      });\n      }\n     \n        clear();\n        removeLoader();\n\n        nttpRequest(userRequest)\n          .then(data => {\n            if (data.data.hits.length === 0) {\n          \n          clear();\n          showLoader();\n          iziToast.error({\n            title: 'ERROR',\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            position: 'topRight',\n          });\n        }\n\n        createHTML(data.data.hits);\n      })\n      .catch(error => {\n        clear();\n        showLoader();\n        iziToast.error({\n          title: 'ERROR',\n          message: `Error fetching images: ${error}`,\n          position: 'topRight',\n        });\n      });\n    \n      showLoader();\n\n      event.target.reset();\n\n};\n    \nfunction showLoader() {\n      refs.loader.classList.toggle(`visually-hidden`);\n      // refs.loader.classList.add('visually-hidden');\n    }\n\n    function removeLoader() {\n      refs.loader.classList.remove('visually-hidden');\n    }\n\n    function clear() {\n      refs.gallery.innerHTML = '';\n    }\n      \n"],"names":["axios","nttpRequest","userRequest","paramsForHttp","createHTML","data","refs","createCart","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createsCart","items","markup","SimpleLightbox","request","event","iziToast","clear","removeLoader","showLoader","error"],"mappings":"owBAGAA,EAAM,SAAS,QAAU,sBAGV,SAASC,EAAYC,EAAa,CAGrC,MAAMC,EAAgB,IAAI,gBAAiB,CAC3C,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAExB,CAAS,EAEJ,OAAOF,EAAM,IAAI,4BAA4BG,CAAa,EAAE,CAC5D,CCdU,SAASC,EAAWC,EAAM,CACvC,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEE,SAASC,EAAWC,EAAM,CACxB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA;AAAA,wCAG6BE,CAAa;AAAA,gCACrBD,CAAY;AAAA,eAC7BE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMyBC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,eAMlD,CAED,SAASC,EAAYC,EAAO,CACxB,OAAOA,EAAM,IAAIV,CAAU,EAAE,KAAK,EAAE,CACrC,CAED,MAAMW,EAASF,EAAYX,CAAI,EAC/BC,EAAK,KAAK,mBAAmB,aAAcY,CAAM,EAElC,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,eAAgB,GACtB,CAAK,EAEQ,QAAO,EAChBb,EAAK,OAAO,UAAU,IAAI,QAAQ,CAEtC,CC3DI,MAAMA,EAAO,CACX,KAAM,SAAS,cAAe,OAAO,EACrC,MAAO,SAAS,cAAe,QAAQ,EACvC,QAAS,SAAS,cAAe,UAAU,EAC3C,OAAQ,SAAS,cAAe,SAAS,EACzC,OAAQ,SAAS,cAAe,SAAS,CAC/C,EAEIA,EAAK,KAAK,iBAAkB,SAAUc,CAAO,EAE7C,SAASA,EAAQC,EAAO,CAGvBA,EAAM,eAAc,EAInB,MAAMnB,EAAcI,EAAK,MAAM,MAAM,KAAI,EAGnCJ,IAAgB,IAClBoB,EAAS,QAAQ,CACjB,SAAU,WACV,MAAO,OACP,QAAS,+CACnB,CAAO,EAGCC,IACAC,IAEAvB,EAAYC,CAAW,EACpB,KAAKG,GAAQ,CACRA,EAAK,KAAK,KAAK,SAAW,IAEhCkB,IACAE,IACAH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UACtB,CAAW,GAGHlB,EAAWC,EAAK,KAAK,IAAI,CACjC,CAAO,EACA,MAAMqB,GAAS,CACdH,IACAE,IACAH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0BAA0BI,CAAK,GACxC,SAAU,UACpB,CAAS,CACT,CAAO,EAEDD,IAEAJ,EAAM,OAAO,OAEnB,CAEA,SAASI,GAAa,CAChBnB,EAAK,OAAO,UAAU,OAAO,iBAAiB,CAE/C,CAED,SAASkB,GAAe,CACtBlB,EAAK,OAAO,UAAU,OAAO,iBAAiB,CAC/C,CAED,SAASiB,GAAQ,CACfjB,EAAK,QAAQ,UAAY,EAC/B"}